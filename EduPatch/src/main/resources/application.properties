spring.application.name=EduPatch

# Database - will use environment variable in production
spring.data.mongodb.uri=${MONGODB_URI:mongodb+srv://mahikamore2005:Mp41ca2020@cluster0.jayn9fa.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0}
spring.data.mongodb.database=edupatchdb

# Server port - Railway will set this automatically
server.port=${PORT:8080}

# Gemini API - will use environment variable in production
gemini.api.key=${GEMINI_API_KEY:AIzaSyCjHAxXQTFmbUyogxo7zL_eQFrn07CCWlo}
gemini.project.id=edupatch-ai
gemini.location.id=us-central1
gemini.publisher.model=gemini-1.5-pro

# Base URL - Railway will set this automatically
app.base-url=${APP_BASE_URL:http://localhost:8080}

# CORS - will be updated after frontend deployment
spring.web.cors.allowed-origins=${FRONTEND_URL:http://localhost:3000}
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=false

# Production settings
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}
logging.level.org.springframework.security=WARN
logging.level.org.springframework.web.cors=WARN

# Swagger Configuration
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html

# Allow public access
spring.security.require-ssl=false
server.error.include-message=always
server.error.include-binding-errors=always

# Logging Configuration
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web.cors=DEBUG
logging.level.org.springframework.data.mongodb.core.MongoTemplate=DEBUG
logging.level.org.springframework.web=DEBUG
spring.main.allow-circular-references=true

app.base-url=https://9195987f7d36.ngrok-free.app